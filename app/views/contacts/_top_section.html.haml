
= hook(:contact_top_section, self, :f => f) do
  .section
    %table
      %tr
        %td
          .label.top{ :class => "#{Setting.require_first_names ? 'req' : nil}" } #{t :first_name}:
          = f.text_field :first_name
        %td= spacer
        %td
          .label.top #{t :preposition}:
          = f.text_field :preposition
        %td= spacer
        %td
          .label.top{ :class => "#{Setting.require_last_names ? 'req' : nil}" } #{t :last_name}:
          = f.text_field :last_name
      %tr
        %td
          .label #{t :salutation}:
          = f.text_field :salutation
        %td= spacer
        %td
          .label #{t :email}:
          = f.text_field :email
        %td= spacer
        %td
          .label #{t :phone}:
          = f.text_field :phone

      %tr
        %td{ colspan: 5, class: 'accounts' }
          %table
            = f.fields_for :account_contacts do |account_contacts_form|
              = render 'account_form', form: account_contacts_form

      %tr
        %td
          .label= add_account_link( f, t('add_new_account') )

      = render :partial => "/shared/tags", :locals => {:f => f, :span => 3}

      = hook(:contact_top_section_bottom, self, :f => f)
